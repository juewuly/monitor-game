!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MonitorGame=t():e.MonitorGame=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)n.d(r,u,function(t){return e[t]}.bind(null,u));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{"default":e}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=r(n(1)),a=r(n(2)),o=r(n(10)),i=r(n(13)),c=r(n(4)),l=r(n(14)),f=o["default"].Instance,s=i["default"].Instance,d=c["default"].Instance,v=document,g=navigator,h=window.screen,y=g.userAgent.toLowerCase(),p=function(){function e(){(0,u["default"])(this,e)}return(0,a["default"])(e,null,[{key:"test",value:function(){return"test util"}},{key:"getColorDepth",value:function(){return h.colorDepth+"-bit"}},{key:"getLanguage",value:function(){return(g.language||g.browserLanguage).toLowerCase()}},{key:"getScreenSize",value:function(){return h.width+"x"+h.height}},{key:"getProject",value:function(){return""}},{key:"getReferrer",value:function(){var e=v.referrer||"";return e.indexOf("pass")>-1||e.indexOf("pwd")>-1?"403":e}},{key:"getBrowser",value:function(){var e={"360se-ua":"360se",TT:"tencenttraveler",Maxthon:"maxthon",GreenBrowser:"greenbrowser",Sogou:"se 1.x / se 2.x",TheWorld:"theworld"};for(var t in e)if(y.indexOf(e[t])>-1)return t;var n=!1;try{+external.twGetVersion(external.twGetSecurityID(window)).replace(/\./g,"")>1013&&(n=!0)}catch(u){}if(n)return"360se-noua";var r=y.match(/(msie|chrome|safari|firefox|opera|trident)/);return"msie"==(r=r?r[0]:"")?r=y.match(/msie[^;]+/)+"":"trident"==r&&y.replace(/trident\/[0-9].*rv[ :]([0-9.]+)/gi,(function(e,t){r="msie "+t})),r}},{key:"getLocation",value:function(){var e="";try{e=location.href}catch(t){(e=v.createElement("a")).href="",e=e.href}return e=e.replace(/[?#].*$/,""),e=/\.(s?htm|php)/.test(e)?e:e.replace(/\/$/,"")+"/"}},{key:"getGuid",value:function(){return f.getGuid()}},{key:"getCount",value:function(){return s.count}},{key:"getFlashVer",value:function(){var e=-1;if(g.plugins&&g.mimeTypes.length){var t=g.plugins["Shockwave Flash"];t&&t.description&&(e=t.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0")}else if(window.ActiveXObject&&!window.opera)try{var n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(n)e=n.GetVariable("$version").replace(/WIN/g,"").replace(/,/g,".")}catch(r){}return e=parseInt(e,10)}},{key:"getContainerId",value:function(e){var t,n;for(d.areaIds&&(t=new RegExp("^("+d.areaIds.join("|")+")$","ig"));e;){if(e.attributes&&("bk"in e.attributes||"data-bk"in e.attributes)){if(n=e.getAttribute("bk")||e.getAttribute("data-bk"))return(n="bk:"+n).substr(0,100);if(e.id)return(n=e.getAttribute("data-desc")||e.id).substr(0,100)}else if(t&&e.id&&t.test(e.id))return(n=e.getAttribute("data-desc")||e.id).substr(0,100);e=e.parentNode}return""}},{key:"getText",value:function(e){var t="";return t="input"==e.tagName.toLowerCase()?e.getAttribute("text")||e.getAttribute("data-text")||e.value||e.title||"":e.getAttribute("text")||e.getAttribute("data-text")||e.innerText||e.textContent||e.title||"",l["default"].trim(t).substr(0,100)}},{key:"getHref",value:function(e){try{return e.getAttribute("data-href")||e.href||""}catch(t){return""}}}]),e}();t["default"]=p},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=r(n(1)),a=r(n(2)),o=function(){function e(){(0,u["default"])(this,e),this._serviceUrl=null}return(0,a["default"])(e,null,[{key:"Instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),(0,a["default"])(e,[{key:"getServiceUrl",value:function(){return this._serviceUrl}},{key:"setServiceUrl",value:function(e){this._serviceUrl=e}}]),e}();t["default"]=o},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=r(n(1)),a=r(n(2)),o=r(n(3)),i=r(n(15)),c=r(n(6)),l=function(){function e(){(0,u["default"])(this,e)}return(0,a["default"])(e,null,[{key:"Instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),(0,a["default"])(e,[{key:"getBaseData",value:function(){return{p:o["default"].getProject(),u:o["default"].getLocation(),id:o["default"].getGuid(),guid:o["default"].getGuid(),case_key:o["default"].getProject(),biz_plat:"term",log_name:"custom_event",log_src:"client",time_str:this.getCurrentTime(),browser_mid:"",event_key:"click"}}},{key:"getCurrentTime",value:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),u=e.getHours(),a=e.getMinutes(),o=e.getSeconds();return t+"-"+(n<10?"0"+n:n)+"-"+(r<10?"0"+r:r)+" "+(u<10?"0"+u:u)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)}},{key:"getClickData",value:function(e){var t,n,r=(e=i["default"].fix(e||event)).target,u=r.tagName,a=o["default"].getContainerId(r);if(!r.type||"submit"!=r.type&&"button"!=r.type)return"AREA"==u?{f:o["default"].getHref(r),c:"area:"+r.parentNode.name,cId:a}:("IMG"==u&&(t=r),!!(r=c["default"].parentNode(r,"A"))&&(n=o["default"].getText(r),{f:o["default"].getHref(r),c:n||(t?t.src.match(/[^\/]+$/):""),cId:a}));var l=c["default"].parentNode(r,"FORM"),f={};if(l){var s=l.id||"",d=r.id;if(f={f:l.action,c:"form:"+(l.name||s),cId:a},!("search-form"!=s&&"searchForm"!=s||"searchBtn"!=d&&"search-btn"!=d)){var v=$("kw")||$("search-kw")||$("kw1");f.w=v?v.value:""}}else f={f:o["default"].getHref(r),c:o["default"].getText(r),cId:a};return f}},{key:"getKeydownData",value:function(e){if(13!=(e=i["default"].fix(e||event)).keyCode)return!1;var t=e.target,n=t.tagName,r=o["default"].getContainerId(t);if("INPUT"==n){var u=c["default"].parentNode(t,"FORM");if(u){var a=u.id||"",l=t.id,f={f:u.action,c:"form:"+(u.name||a),cId:r};return"kw"!=l&&"search-kw"!=l&&"kw1"!=l||(f.w=t.value),f}}return!1}}]),e}();t["default"]=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;t["default"]={on:function(e,t,n){e.addEventListener?e&&e.addEventListener(t,n,!1):e&&e.attachEvent("on"+t,n)},parentNode:function(e,t,n){for(n=n||5,t=t.toUpperCase();e&&n-- >0;){if(e.tagName===t)return e;e=e.parentNode}return null}}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=r(n(16)),a=r(n(1)),o=r(n(2)),i=function(){function e(){(0,a["default"])(this,e)}return(0,o["default"])(e,null,[{key:"getConstructorName",value:function(e){return null!=e&&null!=e.constructor?Object.prototype.toString.call(e).slice(8,-1):""}},{key:"isArray",value:function(e){return"Array"==this.getConstructorName(e)}},{key:"isObject",value:function(e){return null!==e&&"object"==(0,u["default"])(e)}},{key:"mix",value:function(e,t,n){for(var r in t)(n||!e[r]&&!(r in e))&&(e[r]=t[r]);return e}},{key:"encodeURIJson",value:function(e){var t=[];for(var n in e)null!=e[n]&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}}]),e}();t["default"]=i},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=r(n(1)),a=r(n(2)),o=r(n(9)),i=function(){function e(){(0,u["default"])(this,e)}return(0,a["default"])(e,null,[{key:"Instance",get:function(){return this._instance||(this._instance=o["default"].Instance),this._instance}}]),e}();t["default"]=i},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=r(n(1)),a=r(n(2)),o=r(n(3)),i=r(n(5)),c=r(n(7)),l=r(n(6)),f=r(n(4)),s=r(n(17)),d=f["default"].Instance,v=i["default"].Instance,g=document,h=function(){function e(){(0,u["default"])(this,e)}return(0,a["default"])(e,[{key:"util",value:function(){return o["default"]}},{key:"sendLog",value:function(e){s["default"].sendLog(e)}},{key:"buildLog",value:function(e,t){if(console.log("buildLog...",e,t),!1!==e){var n=s["default"].buildLog(e,t);this.sendLog(n)}}},{key:"log",value:function(e){var t=d.getServiceUrl();t||alert("Error : the service url does not exist!"),this.buildLog(e,t)}},{key:"setProject",value:function(e){return e&&(this.util().getProject=function(){return e}),this}},{key:"setServiceUrl",value:function(e){return d.setServiceUrl(e),this}},{key:"setId",value:function(){for(var e,t=[],n=0;e=arguments[n++];)c["default"].isArray(e)?t=t.concat(e):t.push(e);return this.setConf("areaIds",t),this}},{key:"getClickAndKeydown",value:function(){var e=this;return l["default"].on(g,"mousedown",(function(t){var n=v.getClickData(t);e.log(n,"click")})),l["default"].on(g,"keydown",(function(t){var n=v.getKeydownData(t);e.log(n,"click")})),this}},{key:"version",get:function(){return"version v1.0.0"}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}();t["default"]=h},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=r(n(1)),a=r(n(2)),o=r(n(11)),i=r(n(12)),c=document,l=navigator,f=(window.screen,i["default"]?"":document.domain.toLowerCase()),s=(l.userAgent.toLowerCase(),["360.cn","so.com","leidian.com"]),d=function(){function e(){(0,u["default"])(this,e)}return(0,a["default"])(e,[{key:"hash",value:function(e){for(var t=0,n=0,r=e.length-1;r>=0;r--){var u=parseInt(e.charCodeAt(r),10);0!=(n=266338304&(t=(t<<6&268435455)+u+(u<<14)))&&(t^=n>>21)}return t}},{key:"getGuid",value:function(){var e=o["default"].get("__guid");if(!e){e=[this.hash(i["default"]?"":c.domain),this.guid(),+new Date+Math.random()+Math.random()].join(".");var t={expires:2592e7,path:"/"};if(s.length)for(var n=0;n<s.length;n++){var r=s[n],u="."+r;if(f.indexOf(u)>0&&f.lastIndexOf(u)==f.length-u.length||f==r){t.domain=u;break}}o["default"].set("__guid",e,t)}return e}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}();t["default"]=d},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=r(n(1)),a=r(n(2)),o=document,i=function(){function e(){(0,u["default"])(this,e)}return(0,a["default"])(e,null,[{key:"get",value:function(e){try{var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=o.cookie.match(n))?unescape(t[2]):""}catch(r){return""}}},{key:"set",value:function(e,t,n){var r=(n=n||{}).expires;"number"==typeof r&&(r=new Date).setTime(r.getTime()+n.expires);try{o.cookie=e+"="+escape(t)+(r?";expires="+r.toGMTString():"")+(n.path?";path="+n.path:"")+(n.domain?"; domain="+n.domain:"")}catch(u){}}}]),e}();t["default"]=i},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,r=!0;try{var u=location.protocol.toLowerCase();"http:"!=u&&"https:"!=u||(r=!1)}catch(o){}var a=r;t["default"]=a},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=r(n(1)),a=r(n(2)),o=function(){function e(){(0,u["default"])(this,e)}return(0,a["default"])(e,[{key:"getCount",value:function(){var e=Cookie.get("monitor_count");return e=(parseInt(e)||0)+1,Cookie.set("monitor_count",e,{expires:864e5,path:"/"}),e}},{key:"count",value:function(){return this._count||(this._count=this.getCount()),this._count}}],[{key:"Instance",value:function(){return this._instance||(this._instance=new e),this._instance}}]),e}();t["default"]=o},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=r(n(1)),a=r(n(2)),o=function(){function e(){(0,u["default"])(this,e)}return(0,a["default"])(e,null,[{key:"trim",value:function(e){return e.replace(/^[\s\xa0\u3000]+|[\u3000\xa0\s]+$/g,"")}}]),e}();t["default"]=o},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=r(n(1)),a=r(n(2)),o=function(){function e(){(0,u["default"])(this,e)}return(0,a["default"])(e,null,[{key:"fix",value:function(e){if(!("target"in e)){var t=e.srcElement||e.target;t&&3==t.nodeType&&(t=t.parentNode),e.target=t}return e}}]),e}();t["default"]=o},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=r(n(1)),a=r(n(2)),o=r(n(7)),i=r(n(5))["default"].Instance,c="";window.__qihoo_monitor_imgs={};var l=function(){function e(){(0,u["default"])(this,e)}return(0,a["default"])(e,null,[{key:"buildLog",value:function(e,t){if(!1!==e){e=e||{};var n=i.getBaseData();console.log("baseParams...",n),e=o["default"].mix(n,e,!0);var r=t+o["default"].encodeURIJson(e);if(r!=c){c=r,setTimeout((function(){c=""}),100);var u=o["default"].encodeURIJson(e);return u+="&t="+ +new Date,t=t.indexOf("?")>-1?t+"&"+u:t+"?"+u}}}},{key:"sendLog",value:function(e){var t="log_"+ +new Date,n=window.__qihoo_monitor_imgs[t]=new Image;n.onload=n.onerror=function(){window.__qihoo_monitor_imgs&&window.__qihoo_monitor_imgs[t]&&(window.__qihoo_monitor_imgs[t]=null,delete window.__qihoo_monitor_imgs[t])},n.src=e}}]),e}();t["default"]=l}])["default"]}));