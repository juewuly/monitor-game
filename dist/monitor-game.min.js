!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MonitorGame=t():e.MonitorGame=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)n.d(r,u,function(t){return e[t]}.bind(null,u));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{"default":e}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=r(n(1)),a=r(n(2)),o=function(){function e(){(0,u["default"])(this,e),this._serviceUrl=null,this._projectId=null,this._dataKey="wk"}return(0,a["default"])(e,null,[{key:"Instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),(0,a["default"])(e,[{key:"getServiceUrl",value:function(){return this._serviceUrl}},{key:"setServiceUrl",value:function(e){this._serviceUrl=e}},{key:"setProjectId",value:function(e){this._projectId=e}},{key:"getProjectId",value:function(){return this._projectId}},{key:"setDataKey",value:function(e){this._dataKey=e}},{key:"getDataKey",value:function(){return this._dataKey}}]),e}().Instance;t["default"]=o},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=r(n(1)),a=r(n(2)),o=r(n(10)),i=r(n(5)),l=r(n(11)),f=r(n(3)),c=function(){function e(){(0,u["default"])(this,e)}return(0,a["default"])(e,null,[{key:"Instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),(0,a["default"])(e,[{key:"getBaseData",value:function(){return{case_key:f["default"].getProjectId(),biz_plat:"term",log_name:"custom_event",log_src:"client",time_str:this.getCurrentTime()}}},{key:"getCurrentTime",value:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),u=e.getHours(),a=e.getMinutes(),o=e.getSeconds();return t+"-"+(n<10?"0"+n:n)+"-"+(r<10?"0"+r:r)+" "+(u<10?"0"+u:u)+":"+(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)}},{key:"getClickData",value:function(e){var t=(e=o["default"].fix(e||event)).target,n=t.tagName,r=l["default"].getContainerId(t);if(!t.type||"submit"!=t.type&&"button"!=t.type)return"AREA"==n?{event_key:r}:("IMG"==n&&t,!!(t=i["default"].parentNode(t,"A"))&&(l["default"].getText(t),{event_key:r}));var u=i["default"].parentNode(t,"FORM"),a={};if(u){var f=u.id||"",c=t.id;if(a={event_key:r},!("search-form"!=f&&"searchForm"!=f||"searchBtn"!=c&&"search-btn"!=c)){var s=$("kw")||$("search-kw")||$("kw1");a.w=s?s.value:""}}else a={event_key:r};return a}},{key:"getKeydownData",value:function(e){if(13!=(e=o["default"].fix(e||event)).keyCode)return!1;var t=e.target,n=t.tagName,r=l["default"].getContainerId(t);if("INPUT"==n){var u=i["default"].parentNode(t,"FORM");if(u){u.id;var a=t.id,f={event_key:r};return"kw"!=a&&"search-kw"!=a&&"kw1"!=a||(f.w=t.value),f}}return!1}}]),e}().Instance;t["default"]=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;t["default"]={on:function(e,t,n){e.addEventListener?e&&e.addEventListener(t,n,!1):e&&e.attachEvent("on"+t,n)},parentNode:function(e,t,n){for(n=n||5,t=t.toUpperCase();e&&n-- >0;){if(e.tagName===t)return e;e=e.parentNode}return null}}},function(e,t,n){n(7),e.exports=n(8)},function(e,t){var n=Object.defineProperty;n&&function(){var e={};try{for(var t in n(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(r){return!1}}()||(Object.defineProperty=function(e,t,r){if(n&&1==e.nodeType)return n(e,t,r);e[t]=r.value||r.get&&r.get()})},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=r(n(9)),a={version:u["default"].version,setProjectId:u["default"].setProjectId,setServiceUrl:u["default"].setServiceUrl,getClickAndKeydown:u["default"].getClickAndKeydown,send:u["default"].send};t["default"]=a},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=r(n(1)),a=r(n(2)),o=r(n(4)),i=r(n(5)),l=r(n(3)),f=r(n(13)),c=function(){function e(){(0,u["default"])(this,e)}return(0,a["default"])(e,null,[{key:"Instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),(0,a["default"])(e,[{key:"setProjectId",value:function(e){return e&&l["default"].setProjectId(e),this}},{key:"setServiceUrl",value:function(e){return l["default"].setServiceUrl(e),this}},{key:"getClickAndKeydown",value:function(){return i["default"].on(document,"mousedown",(function(e){var t=o["default"].getClickData(e);f["default"].send(t)})),i["default"].on(document,"keydown",(function(e){var t=o["default"].getKeydownData(e);f["default"].send(t)})),this}},{key:"send",value:function(e){f["default"].send(e)}},{key:"version",get:function(){return"v1.0.0"}}]),e}().Instance;t["default"]=c},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=r(n(1)),a=r(n(2)),o=function(){function e(){(0,u["default"])(this,e)}return(0,a["default"])(e,null,[{key:"fix",value:function(e){if(!("target"in e)){var t=e.srcElement||e.target;t&&3==t.nodeType&&(t=t.parentNode),e.target=t}return e}}]),e}();t["default"]=o},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=r(n(3)),a=r(n(12));var o={getContainerId:function(e){var t,n;u["default"].areaIds&&(t=new RegExp("^("+u["default"].areaIds.join("|")+")$","ig"));for(var r=u["default"].getDataKey();e;){if(e.attributes&&(r in e.attributes||"data-".concat(r)in e.attributes)){if(n=e.getAttribute(r)||e.getAttribute("data-".concat(r)))return n.substr(0,100);if(e.id)return(n=e.getAttribute("data-desc")||e.id).substr(0,100)}else if(t&&e.id&&t.test(e.id))return(n=e.getAttribute("data-desc")||e.id).substr(0,100);e=e.parentNode}return""},getText:function(e){var t="";return t="input"==e.tagName.toLowerCase()?e.getAttribute("text")||e.getAttribute("data-text")||e.value||e.title||"":e.getAttribute("text")||e.getAttribute("data-text")||e.innerText||e.textContent||e.title||"",a["default"].trim(t).substr(0,100)}};t["default"]=o},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=r(n(1)),a=r(n(2)),o=function(){function e(){(0,u["default"])(this,e)}return(0,a["default"])(e,null,[{key:"trim",value:function(e){return e.replace(/^[\s\xa0\u3000]+|[\u3000\xa0\s]+$/g,"")}}]),e}();t["default"]=o},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=r(n(14)),a=r(n(1)),o=r(n(2)),i=r(n(15)),l=r(n(4)),f=r(n(3)),c=function(){function e(){(0,a["default"])(this,e),this.lastLogParams="",window.__monitor_game_imgs={}}return(0,o["default"])(e,null,[{key:"Instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),(0,o["default"])(e,[{key:"send",value:function(e){if(this.validateParams(e)){var t=this.extendParams(e),n=this.generateUrl(t);this.sendLog(n)}}},{key:"generateUrl",value:function(e){var t=f["default"].getServiceUrl(),n=i["default"].encodeURIJson(e);n+="&t="+ +new Date;var r=t.indexOf("?")>-1?"&":"?";return"".concat(t).concat(r).concat(n)}},{key:"extendParams",value:function(e){var t=l["default"].getBaseData();return(0,u["default"])(t,e)}},{key:"validateParams",value:function(e){var t=this,n=f["default"].getServiceUrl(),r=i["default"].encodeURIJson(e);return n?!!e&&(r!==this.lastLogParams&&(this.lastLogParams=r,setTimeout((function(){console.log("this..lastLogParams.",t.lastLogParams),t.lastLogParams=""}),100),!0)):(alert("Error : the service url does not exist!"),!1)}},{key:"sendLog",value:function(e){var t="log_"+ +new Date,n=window.__monitor_game_imgs[t]=new Image;n.onload=n.onerror=function(){window.__monitor_game_imgs&&window.__monitor_game_imgs[t]&&(window.__monitor_game_imgs[t]=null,delete window.__monitor_game_imgs[t])},n.src=e}}]),e}().Instance;t["default"]=c},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u=r(n(16)),a=r(n(1)),o=r(n(2)),i=function(){function e(){(0,a["default"])(this,e)}return(0,o["default"])(e,null,[{key:"getConstructorName",value:function(e){return null!=e&&null!=e.constructor?Object.prototype.toString.call(e).slice(8,-1):""}},{key:"isArray",value:function(e){return"Array"==this.getConstructorName(e)}},{key:"isObject",value:function(e){return null!==e&&"object"==(0,u["default"])(e)}},{key:"encodeURIJson",value:function(e){var t=[];for(var n in e)null!=e[n]&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}}]),e}();t["default"]=i},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n}])["default"]}));